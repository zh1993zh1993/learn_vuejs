<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Title</title>
</head>
<body>
<script>
  /*wrapped into
   网络请求：aaa ->自己处理（10行）
 处理：aaa111 ->自己处理（10行）
 处理：aaa111222->自己处理
 */
/*
  new Promise((resolve,reject)=>{
    setTimeout(()=>{
      resolve('aaa')
    },1000)
  }).then(res=>{
    console.log(res,'第一层的十行代码');

  //  2.对结果进行第一次处理
    return new  Promise((resolve,reject)=>{
      // resolve(res+'111')
      reject('err')
    })
  }).then(res=>{
    console.log(res + '第二层的十行代码');

    return new  Promise((resolve,reject)=>{
      resolve(res+'222')
    })
  }).then(res=>{
    console.log(res + '第三层的十行代码');
  }).catch(err =>{
    console.log(err);
  })*/
//  简写方式1
/*
new Promise((resolve,reject)=>{
    setTimeout(()=>{
      resolve('aaa')
    },1000)
  }).then(res=>{
    console.log(res,'第一层的十行代码');

    //  2.对结果进行第一次处理
    return Promise.resolve(res+'111')
  }).then(res=>{
    console.log(res + '第二层的十行代码');

    return Promise.resolve(res+'222')
  }).then(res=>{
    console.log(res + '第三层的十行代码');
  })
  */

  // 简写方式2:省略掉Promise.resolve
  new Promise((resolve,reject)=>{
    setTimeout(()=>{
     resolve('aaa')
     },1000)
     }).then(res=>{
     console.log(res,'第一层的十行代码');

//  2.对结果进行第一次处理
//     return  Promise.reject('err')
//    手动抛出异常  拿到错误信息
    throw 'err message'
        }).then(res=>{
     console.log(res + '第二层的十行代码');

       return res+'222'
           }).then(res=>{
         console.log(res + '第三层的十行代码');
       }).catch(err=>{
     console.log(err);
     })

</script>
</body>
</html>